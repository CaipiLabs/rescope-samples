<!DOCTYPE html>
<!--
  ~ Copyright (c)  2018 Wise Wild Web .
  ~
  ~  MIT License
  ~
  ~  Permission is hereby granted, free of charge, to any person obtaining a copy
  ~  of this software and associated documentation files (the "Software"), to deal
  ~  in the Software without restriction, including without limitation the rights
  ~  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
  ~  copies of the Software, and to permit persons to whom the Software is
  ~  furnished to do so, subject to the following conditions:
  ~
  ~  The above copyright notice and this permission notice shall be included in all
  ~  copies or substantial portions of the Software.
  ~
  ~  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  ~  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  ~  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
  ~  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  ~  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
  ~  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
  ~  SOFTWARE.
  ~
  ~ @author : Nathanael Braun
  ~ @contact : caipilabs@gmail.com
  -->

<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Really basic drafty vanilla JS example</title>
    <script src="./App.js"></script>
</head>
<body>
<h1>Really basic drafty vanilla JS example</h1>

<div style="border: solid 1px lightgrey;border-radius: 3px">
    <b><u>
        <button onclick="App.state.appState = {currentUserId:'MissTick'}">MissTick events</button>
    </u></b>
    <b><u>
        <button onclick="App.state.appState = {currentUserId:'MrNice'}">MrNice events</button>
    </u></b>
</div>
<pre id="status">Preloading...</pre>
<div id="events"></div>
<script>
    var NewsList = new NewsListComp(document.getElementById("events"));
    window.App   = new Rescope.Scope(StoreContext);


    App.state.appState = { currentUserId: "MissTick" }

    App.mount("userEvents").then(
        function ( err, datas ) {

            App.bind(NewsList, 'userEvents', true);
            App.bind(function ( datas ) {
                document.getElementById("status").innerHTML = JSON.stringify(datas, true, 2)
            }, 'status', true);
        }
    );
</script>
</body>
</html>