require("webpack-inherit/etc/node/loadModulePaths.js").loadPaths({allModulePath:["node_modules"],cDir:__dirname+"/...."},"dist\\api"),require("source-map-support").install(),
/*!
 * MIT License
 * 
 * Copyright (c) 2018 Wise Wild Web
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=38)}([function(e,t){e.exports=require("react")},function(e,t){e.exports=require("react-scopes")},function(e,t){e.exports=require("@babel/runtime/helpers/getPrototypeOf")},function(e,t){e.exports=require("@babel/runtime/helpers/classCallCheck")},function(e,t){e.exports=require("@babel/runtime/helpers/createClass")},function(e,t){e.exports=require("@babel/runtime/helpers/possibleConstructorReturn")},function(e,t){e.exports=require("@babel/runtime/helpers/inherits")},function(e,t){e.exports=require("prop-types")},function(e,t){e.exports=require("@material-ui/core/Fab")},function(e,t){e.exports=require("react-router-dom")},function(e,t){e.exports=require("@babel/runtime/helpers/toConsumableArray")},function(e,t){e.exports=require("react-helmet")},function(e,t){e.exports=require("shortid")},function(e,t){e.exports=require("superagent")},function(e,t){e.exports=require("@babel/runtime/helpers/defineProperty")},function(e,t){e.exports=require("@material-ui/icons/Save")},function(e,t,n){"use strict";n.r(t),t.default=n(39)},function(e,t){e.exports=require("is")},function(e,t){e.exports=require("express")},function(e,t){e.exports=require("react-dom/server")},function(e,t){e.exports=require("@babel/runtime/helpers/applyDecoratedDescriptor")},function(e,t){e.exports=require("@material-ui/core/IconButton")},function(e,t){e.exports=require("@babel/runtime/helpers/slicedToArray")},function(e,t,n){"use strict";n.r(t),n.d(t,"console",(function(){return f}));var r=n(10),o=n.n(r),a=n(22),i=n.n(a),c=n(16).default,s=n(42),l=n(17).function,u=new Function("try {return this===window;}catch(e){ return false;}")(),p=n(43),d=!u&&function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return""},r=s(t),o=function(n){return new e(t+"::"+n)};for(var a in r)r.hasOwnProperty(a)&&!this[a]&&l(r[a])&&(o[a]=r[a].bind(r,n(t)));return o.beep=function(){process.stdout.write(""),this.error.apply(this,arguments)},o}||function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return""},r=console,o=function(n){return new e(t+"::"+n)};for(var a in r)r.hasOwnProperty(a)&&!this[a]&&l(r[a])&&(o[a]=r[a].bind(console,n(t)));return o.beep=function(){this.error.apply(this,arguments)},o};s.inspectOptions={colors:!0},s.debug.enable(c.project.name+"*"),console.watch=console.watch||function(e,t){var n="$_"+t+"_$";e[n]=e[t],Object.defineProperty(e,t,{get:function(){return e[n]},set:function(r){console.log("setting "+t+" to "+r),e[n]=r}})},u&&!window.consoleHookDone&&function(){function e(e,t){return e.length>t?e.substring(0,t)+"...":e}window.consoleHookDone=!0;var t=console.warn,n=console.error,r=[],a=[],s=p((function(){console.groupCollapsed(" %d %cvendors warns happen%c (%s)",r.length,"color: orange; text-decoration: underline","color: gray; font-style: italic;font-size:.8em",e(r.map((function(e){return e.join(", ")})).join("\t"),50)),r.forEach((function(e){var n,r=i()(e,2),a=r[0],c=r[1];(n=console).groupCollapsed.apply(n,o()(a)),t.call(console,c),console.groupEnd()})),r=[],console.groupEnd()}),2e3),l=p((function(){console.groupCollapsed(" %d %cvendors errors happen%c (%s)",a.length,"color: red; text-decoration: underline","color: gray; font-style: italic;font-size:.8em",e(a.map((function(e){return e.join(", ")})).join("\t"),50)),a.forEach((function(e){var t,r=i()(e,2),a=r[0],c=r[1];(t=console).groupCollapsed.apply(t,o()(a)),n.call(console,c),console.groupEnd()})),a=[],console.groupEnd()}),2e3);console.warn=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];if(!n[0]&&n[0].startWith(c.project.name))return t.apply(void 0,n);r.push([n,(new Error).stack]),s()},console.trace=function(){},console.error=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n[0].startWith(c.project.name))return t.apply(void 0,n);a.push([n,(new Error).stack]),l()}}();var f=new d(c.project.name);t.default=f},function(e,t,n){"use strict";n.r(t);var r,o,a,i=n(26),c=n.n(i),s=n(21),l=n.n(s),u=n(27),p=n.n(u),d=n(28),f=n.n(d),m=n(29),h=n.n(m),g=n(30),v=n.n(g),b=(n(41),n(0)),y=n.n(b),w=n(11),E=n(9),S=n(3),x=n.n(S),_=n(4),j=n.n(_),O=n(5),q=n.n(O),k=n(2),D=n.n(k),P=n(6),C=n.n(P),A=n(14),N=n.n(A),W=n(7),z=n.n(W),T=n(31),R=n(1),I=n.n(R);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var L=I()((a=o=function(e){function t(){var e,n;x()(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=q()(this,(e=D()(t)).call.apply(e,[this].concat(o)))).state={},n.saveState=function(e,t){var r=n.props,o=r.$actions,a=r.record;o.updateWidget(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(n,!0).forEach((function(t){N()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a,{size:n.state.size||a.size,position:n.state.position||a.position}))},n}return C()(t,e),j()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.record,r=(n=void 0===n?{}:n).position,o=n.size,a=t.record,i=t.children,c=t.disabled,s=(t.$actions,t.onSelect),l=t.selected,u=this.state;return y.a.createElement(T.Rnd,{className:"Widget",disableDragging:!!c,enableResizing:c,style:l?{zIndex:2e3}:void 0,size:u.size||o,position:u.position||r,onDragStop:this.saveState,onResizeStop:this.saveState,onDrag:function(t,n){!l&&s(a),e.setState({position:{x:n.x,y:n.y}})},onResize:function(t,n,r,o,a){e.setState({position:a,size:{width:r.offsetWidth,height:r.offsetHeight}})}},y.a.createElement("div",{className:" content"},i))}}]),t}(y.a.Component),o.propTypes={selected:z.a.bool,disabled:z.a.bool,record:z.a.object.isRequired,onSelect:z.a.func},r=a))||r,B=n(8),H=n.n(B),F=n(32),U=n.n(F),$=n(33),G=n.n($),Q=n(15),V=n.n(Q),J=n(34),Y=n.n(J),Z=n(13),X=n.n(Z);function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ee=function(e){function t(){var e;return x()(this,t),(e=q()(this,D()(t).apply(this,arguments))).checkUpdate=function(){var t=e.data,n=t.location,r=t.fetched;n&&r<Date.now()-6e4&&(console.log("search ",n),e.doSearch(n))},e._refreshTm=setInterval(e.checkUpdate,1e4),e}return C()(t,e),j()(t,[{key:"destroy",value:function(){Y()(D()(t.prototype),"destroy",this).call(this),clearInterval(this._refreshTm)}},{key:"apply",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=n.location;n.results,n.record;return(r=r||t.defaultLocation)==e.location&&e.results?e:r?(this.doSearch(r),{location:r,fetching:!0}):e}},{key:"doSearch",value:function(e){var t=this,n=this.nextState;this.wait(),X.a.get(n.src+e).then((function(r){e===t.data.location&&(t.push({results:r.body,location:e,fetching:!1,fetched:Date.now()}),n.record&&t.$actions.updateWidget(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(n,!0).forEach((function(t){N()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n.record,{location:e})))})).then((function(e){return t.release()})).catch((function(e){return t.release()})),this.push({location:e,fetching:!0})}}]),t}(R.Store);ee.state={src:"http://api.openweathermap.org/data/2.5/weather?&APPID=ecff7b21b7305a6f88ca6c9bc4f07027&q=",autoUpdate:1e4},ee.actions={updateWeatherSearch:function(e){return e.length,{location:e}}};var te,ne,re,oe,ae,ie=n(35),ce=n.n(ie),se=function(e){var t=e.weatherData;e.lastQuery;return y.a.createElement("div",{className:"WeatherInfos"},y.a.createElement("div",{className:"location"},t.name," ",y.a.createElement("sub",null,"(",ce()(1e3*t.dt).fromNow(),")")),y.a.createElement("div",{className:"background"},y.a.createElement("img",{src:"https://source.unsplash.com/600x400/?day,sky,"+t.name})),y.a.createElement("div",{className:"picto"},t.weather[0]&&y.a.createElement("img",{src:"http://openweathermap.org/img/w/"+t.weather[0].icon+".png"}),y.a.createElement("br",null),t.weather[0]&&t.weather[0].description),y.a.createElement("div",{className:"infos"},y.a.createElement("div",{className:"temp"},t.main.temp,"°"),y.a.createElement("div",{className:"wind"},t.wind.speed," mh")))},le=I()({WeatherSearch:ee})(te=I.a.fromProps("record.location:WeatherSearch.defaultLocation","record:WeatherSearch.record")(te=I.a.connect("WeatherSearch")((re=ne=function(e){function t(){var e,n;x()(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=q()(this,(e=D()(t)).call.apply(e,[this].concat(o)))).state={},n}return C()(t,e),j()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.record,r=t.$actions,o=t.disabled,a=t.WeatherSearch,i=this.state;return y.a.createElement("div",{className:"WeatherBlock"},!this.state.editing&&y.a.createElement(y.a.Fragment,null,a.results&&y.a.createElement(se,{weatherData:a.results})||a.fetching&&"Loading...."||"Edit me !",!o&&y.a.createElement(y.a.Fragment,null,y.a.createElement(H.a,{"aria-label":"edit",className:"edit",onClick:function(t){return e.setState({editing:!0})}},y.a.createElement(G.a,null)),y.a.createElement(H.a,{"aria-label":"Delete",className:"delete",onClick:function(e){return r.rmWidget(n._id)}},y.a.createElement(U.a,null))))||y.a.createElement(y.a.Fragment,null,y.a.createElement("div",{className:"search"},y.a.createElement("input",{type:"text",onChange:function(t){e.setState({searching:t.target.value}),t.target.value.length>2&&r.updateWeatherSearch(t.target.value)},value:void 0!==i.searching?i.searching:n.location,onMouseDown:function(e){return e.stopPropagation()}})),a.fetching?"Loading....":a.results&&y.a.createElement(se,{weatherData:a.results}),y.a.createElement(H.a,{"aria-label":"Save",className:"save",disabled:n.fetching,onClick:function(t){return e.setState({editing:!1})}},y.a.createElement(V.a,null))))}}]),t}(y.a.Component),ne.propTypes={record:z.a.object.isRequired,disabled:z.a.bool},te=re))||te)||te)||te,ue=I.a.connect("widgets","appState")(oe=function(e){function t(){var e,n;x()(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=q()(this,(e=D()(t)).call.apply(e,[this].concat(o)))).state={},n}return C()(t,e),j()(t,[{key:"render",value:function(){var e=this.props,t=e.widgets,n=void 0===t?{items:[]}:t,r=e.appState;return y.a.createElement("div",null,y.a.createElement("div",{className:"desk"},n.items.map((function(e){return y.a.createElement(L,{key:e._id,record:e,disabled:!0,selected:e._id==r.selectedWidgetId},y.a.createElement(le,{record:e,disabled:!0}))}))))}}]),t}(y.a.Component))||oe,pe=n(36),de=n.n(pe),fe=n(37),me=n.n(fe),he=I.a.connect("widgets","appState")(ae=function(e){function t(){var e,n;x()(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=q()(this,(e=D()(t)).call.apply(e,[this].concat(o)))).state={},n}return C()(t,e),j()(t,[{key:"render",value:function(){var e=this.props,t=e.widgets,n=void 0===t?{items:[]}:t,r=e.$actions,o=e.appState;return de()(this.state),y.a.createElement("div",null,y.a.createElement("div",{className:"desk"},n.items.map((function(e){return y.a.createElement(L,{key:e._id,record:e,onSelect:function(t){return r.selectWidget(e._id)},selected:e._id==o.selectedWidgetId},y.a.createElement(le,{record:e}))}))),y.a.createElement(H.a,{"aria-label":"edit",className:"newBtn button",onClick:function(e){return r.newWidget()}},y.a.createElement(me.a,null)),y.a.createElement(H.a,{"aria-label":"Delete",className:"saveBtn button",onClick:function(e){return r.saveState()}},y.a.createElement(V.a,null)))}}]),t}(y.a.Component))||ae;t.default=function(e){var t=E.BrowserRouter;return t=E.StaticRouter,y.a.createElement(t,{location:e.location},y.a.createElement(y.a.Fragment,null,y.a.createElement(w.Helmet,null,y.a.createElement("meta",{charSet:"UTF-8"}),y.a.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1.01, maximum-scale=1.0, user-scalable=no, minimal-ui"}),y.a.createElement("meta",{"http-equiv":"X-UA-Compatible",content:"IE=9;IE=10;IE=11;IE=Edge,chrome=1"}),y.a.createElement("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),y.a.createElement("meta",{name:"apple-touch-fullscreen",content:"yes"}),y.a.createElement("title",null,"Weather desk"),y.a.createElement("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css?family=Roboto:300,400,500"}),y.a.createElement("link",{href:"https://fonts.googleapis.com/icon?family=Material+Icons",rel:"stylesheet"})),y.a.createElement(c.a,{position:"static",className:"AppBar"},y.a.createElement(p.a,null,y.a.createElement(f.a,{cvariant:"h6",color:"inherit",noWrap:!0},"Weather desk ( watch window.contexts to see scopes & stores )"),y.a.createElement("div",{className:"tools"},y.a.createElement(E.Link,{to:"/",className:"homeBtn"},y.a.createElement(l.a,{"aria-label":"home",color:"inherit"},y.a.createElement(h.a,null))),y.a.createElement(E.Link,{to:"/settings",className:"settingsBtn"},y.a.createElement(l.a,{"aria-label":"settings",color:"inherit"},y.a.createElement(v.a,null)))))),y.a.createElement(E.Route,{path:"/",exact:!0,component:ue}),y.a.createElement(E.Route,{path:"/settings",component:he})))}},function(e,t){e.exports=require("react-dom")},function(e,t){e.exports=require("@material-ui/core/AppBar")},function(e,t){e.exports=require("@material-ui/core/Toolbar")},function(e,t){e.exports=require("@material-ui/core/Typography")},function(e,t){e.exports=require("@material-ui/icons/Home")},function(e,t){e.exports=require("@material-ui/icons/Settings")},function(e,t){e.exports=require("react-rnd")},function(e,t){e.exports=require("@material-ui/icons/Delete")},function(e,t){e.exports=require("@material-ui/icons/Edit")},function(e,t){e.exports=require("@babel/runtime/helpers/get")},function(e,t){e.exports=require("moment")},function(e,t){e.exports=require("@babel/runtime/helpers/objectDestructuringEmpty")},function(e,t){e.exports=require("@material-ui/icons/Add")},function(e,t,n){e.exports=n(47)},function(e){e.exports=JSON.parse('{"project":{"name":"simple-rs-app","author":"Nathan Braun <n8tz.js@gmail.com>","version":"1.0.0"},"buildDate":1569675040126,"profile":"api","projectRoot":"G:\\\\n8tz\\\\libs\\\\rScopes\\\\rescope-samples\\\\simple-rs-app","vars":{"rootAlias":"App","targetDir":"dist/api","externals":true,"production":true,"DefinePluginCfg":{"__IS_SERVER__":true}},"allCfg":[{"rootFolder":"App","extend":["wi-layer-react-express"]},{"rootFolder":"src/App","config":"./etc/wp/webpack.config.api.js","vars":{"targetDir":"dist/api","externals":true,"production":true,"DefinePluginCfg":{"__IS_SERVER__":true}}}],"allModId":["wi-layer-react-express"]}')},function(e,t){e.exports=require("webpack-inherit/etc/utils/indexUtils.js")},function(e,t){},function(e,t){e.exports=require("debug-logger")},function(e,t){e.exports=require("debounce")},function(e,t){e.exports=require("http")},function(e,t){e.exports=require("minimist")},function(e,t,n){"use strict";n.r(t);var r,o,a,i,c=n(0),s=n.n(c),l=n(25),u=n.n(l),p=n(19),d=n(11),f=n(1),m=n(12),h=n.n(m),g=n(10),v=n.n(g),b=n(20),y=n.n(b),w=n(13),E=n.n(w),S=(r={appState:{selectedWidgetId:"rkUQHZrqM",selectWidget:function(e){return{selectedWidgetId:e}}},widgets:{items:[{_id:"rkUQHZrqM",location:"Lisbonne",size:{width:350,height:400},position:{x:403,y:111}},{_id:"YDNiVOf1j",size:{width:350,height:400},position:{x:21,y:108},location:"paris"},{_id:"FkQ3V9Hcb",size:{width:350,height:400},position:{x:771,y:108},location:"rome"},{_id:"bYNiMYG_0",size:{width:514,height:329},position:{x:28,y:525},location:"marseille"},{_id:"5SJehewl2",size:{width:563,height:328},position:{x:558,y:526},location:"montpellier"}],newWidget:function(){return function(e){return{items:[].concat(v()(e.items),[{_id:h.a.generate(),size:{width:350,height:200},position:{x:100+~~(600*Math.random()),y:100+~~(600*Math.random())}}])}}},updateWidget:function(e){return function(t){return{items:t.items.map((function(t){return t._id===e._id?e:t}))}}},rmWidget:function(e){return function(t){return{items:t.items.filter((function(t){return t._id!==e}))}}},saveState:function(){E.a.post("/",this.scopeObj.serialize()).then((function(e,t){console.log(e,t)}))}}},y()(r,"appState",[f.asStore],(o=(o=Object.getOwnPropertyDescriptor(r,"appState"))?o.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return o}}),r),y()(r,"widgets",[f.asStore],(a=(a=Object.getOwnPropertyDescriptor(r,"widgets"))?a.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return a}}),r),r),x=n(3),_=n.n(x),j=n(4),O=n.n(j),q=n(5),k=n.n(q),D=n(2),P=n.n(D),C=n(6),A=n.n(C),N=function(e){function t(){return _()(this,t),k()(this,P()(t).apply(this,arguments))}return A()(t,e),O()(t,[{key:"render",value:function(){var e=this.props,t=e.helmet,n=e.content,r=e.css,o=e.state,a=t.htmlAttributes.toComponent(),i=t.bodyAttributes.toComponent();return s.a.createElement(s.a.Fragment,null,s.a.createElement("html",a,s.a.createElement("head",null,t.title.toComponent(),t.meta.toComponent(),t.link.toComponent(),t.script.toComponent(),o&&s.a.createElement("script",{dangerouslySetInnerHTML:{__html:"window.__STATE__  = "+JSON.stringify(o)}}),r&&s.a.createElement("style",{type:"text/css",dangerouslySetInnerHTML:{__html:r+""}})),s.a.createElement("body",i,s.a.createElement("div",{id:"app",dangerouslySetInnerHTML:{__html:n}}),s.a.createElement("script",{src:"./App.js"}),s.a.createElement("script",{src:"./App.vendors.js"}))))}}]),t}(s.a.Component),W={renderTo:function(e,t){var r=new f.Scope(S,{id:"App",autoDestroy:!0}),o=Object(f.withScope)(r)(n(24).default);window.contexts=f.Scope.scopes,window.__STATE__&&r.restore(window.__STATE__),u.a.render(s.a.createElement(o,null),e)},renderSSR:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=h.a.generate(),a=new f.Scope(S,{id:o,autoDestroy:!1}),i=Object(f.withScope)(a)(n(24).default);e.state&&a.restore(e.state,{alias:"App"});var c,l=Object(p.renderToString)(s.a.createElement(i,{location:e.location})),u=a.isStableTree();global.contexts=f.Scope.scopes,a.onceStableTree((function(n){var o=a.serialize({alias:"App"});if(a.destroy(),!r||!u&&r<3)e.state=o,W.renderSSR(e,t,++r);else{try{c="<!doctype html>\n"+Object(p.renderToString)(s.a.createElement(N,{helmet:d.Helmet.renderStatic(),css:e.css,state:o,content:l}))}catch(e){return t(e)}t(null,c)}}))}},z=W,T=n(18),R=n.n(T);n.d(t,"name",(function(){return I})),n.d(t,"priorityLevel",(function(){return M})),n.d(t,"service",(function(){return L}));var I="Rendering",M=1e5,L=function(e){var t=function(e,t,n){z.renderSSR({location:e.url,state:i},(function(e,n,r){t.send(200,e&&e+"\n"+e.stack||n)}))};e.get("/",t),e.get("/settings",t),console.warn("Renderer"),e.use(R.a.static("dist/www")),e.post("/",(function(e,t,n){console.log("New state pushed"),i=e.body,t.send(200,"ok")}))}},function(e,t,n){"use strict";n.r(t);var r=n(16),o=(n(0),n(17)),a=n.n(o),i={};(0,n(40).walknSetExport)(i,"index",n(46));var c,s,l=i,u=n(23).default("server"),p=n(18),d=p(),f=n(44).Server(d),m=n(45)(process.argv.slice(2)),h=n(23).default("server");process.title=r.default.project.name+"::server",h.warn("process.env.DEBUG : ",process.env.DEBUG),d.use(p.json()),d.use(p.urlencoded()),c=d,s=f,Object.keys(l).map((function(e){return a.a.fn(l[e])?{name:e,priorityLevel:0,service:l[e]}:l[e]})).sort((function(e,t){return e.priorityLevel>t.priorityLevel?-1:1})).forEach((function(e){try{u.info("Load Api : ",e.name,"\n"),e.service(c,s)}catch(t){u.error("Api fail loading service ",e.name,"\n",t)}}));var g=f.listen(parseInt(m.p||m.port||8e3),(function(){h.info("Running on ",g.address().port)}))}]);
//# sourceMappingURL=App.server.js.map